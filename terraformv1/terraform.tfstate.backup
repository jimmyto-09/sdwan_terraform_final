{
  "version": 4,
  "terraform_version": "1.4.6",
  "serial": 2176,
  "lineage": "7798815c-a5b5-80bd-fdc7-094261341e45",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "prometheus_config",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "prometheus.yml": "global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nscrape_configs:\n  # VNFs (wan/cpe/access) descubiertos por Kubernetes\n  - job_name: \"vnf\"\n    kubernetes_sd_configs:\n      - role: pod\n        namespaces:\n          names: [rdsv]\n\n    relabel_configs:\n      # Solo pods cuyo nombre empiece por vnf-access|cpe|wan\n      - action: keep\n        source_labels: [__meta_kubernetes_pod_name]\n        regex: vnf-(access|cpe|wan)-.*\n\n      # Se scrapea por IP:9100 (la IP puede cambiar; K8s SD la refresca solo)\n      - action: replace\n        source_labels: [__meta_kubernetes_pod_ip]\n        target_label: __address__\n        regex: (.*)\n        replacement: $1:9100\n\n      # 'instance' y 'pod' = nombre del Pod (para consultar \"por nombre\")\n      - action: replace\n        source_labels: [__meta_kubernetes_pod_name]\n        target_label: instance\n      - action: replace\n        source_labels: [__meta_kubernetes_pod_name]\n        target_label: pod\n\n      # role = access|cpe|wan (extraído del nombre del pod)\n      - action: replace\n        source_labels: [__meta_kubernetes_pod_name]\n        regex: vnf-(access|cpe|wan)-.*\n        target_label: role\n        replacement: $1\n\n      # site = siteN (extraído del nombre del pod)\n      - action: replace\n        source_labels: [__meta_kubernetes_pod_name]\n        regex: vnf-(?:access|cpe|wan)-(site[0-9]+).*\n        target_label: site\n        replacement: $1\n\n    metric_relabel_configs:\n      - action: drop\n        source_labels: [device]\n        regex: lo\n\n  - job_name: \"prometheus\"\n    static_configs:\n      - targets: [\"localhost:9090\"]\n"
            },
            "id": "monitoring/prometheus-config",
            "immutable": false,
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "prometheus-config",
                "namespace": "monitoring",
                "resource_version": "570507",
                "uid": "ac2e66f3-bdae-4649-ac4b-bbee4e5af944"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_deployment",
      "name": "grafana",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "monitoring/grafana",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 1,
                "labels": null,
                "name": "grafana",
                "namespace": "monitoring",
                "resource_version": "570780",
                "uid": "c88b1200-4530-4379-9fef-244da439fe3c"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "grafana"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": null,
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "grafana"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": null,
                            "command": null,
                            "env": [
                              {
                                "name": "GF_SECURITY_ADMIN_USER",
                                "value": "admin",
                                "value_from": []
                              },
                              {
                                "name": "GF_SECURITY_ADMIN_PASSWORD",
                                "value": "admin",
                                "value_from": []
                              }
                            ],
                            "env_from": [],
                            "image": "grafana/grafana-oss:latest",
                            "image_pull_policy": "Always",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "grafana",
                            "port": [
                              {
                                "container_port": 3000,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "http",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {}
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_device": [],
                            "volume_mount": [
                              {
                                "mount_path": "/var/lib/grafana",
                                "mount_propagation": "None",
                                "name": "grafana-data",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": true,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": null,
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "grafana-data",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "grafana-data",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "kubernetes_namespace.monitoring",
            "kubernetes_persistent_volume_claim.grafana_data"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_deployment",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "monitoring/prometheus",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 1,
                "labels": null,
                "name": "prometheus",
                "namespace": "monitoring",
                "resource_version": "570838",
                "uid": "c3860284-11ca-443d-9ce0-1da7b1a5d49c"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "prometheus"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": null,
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "prometheus"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [
                              "--config.file=/etc/prometheus/prometheus.yml",
                              "--storage.tsdb.path=/prometheus",
                              "--web.enable-lifecycle"
                            ],
                            "command": null,
                            "env": [],
                            "env_from": [],
                            "image": "prom/prometheus:latest",
                            "image_pull_policy": "Always",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "prometheus",
                            "port": [
                              {
                                "container_port": 9090,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "web",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {},
                                "requests": {}
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_device": [],
                            "volume_mount": [
                              {
                                "mount_path": "/etc/prometheus",
                                "mount_propagation": "None",
                                "name": "config",
                                "read_only": false,
                                "sub_path": ""
                              },
                              {
                                "mount_path": "/prometheus",
                                "mount_propagation": "None",
                                "name": "data",
                                "read_only": false,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": true,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": null,
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [
                              {
                                "default_mode": "0644",
                                "items": [],
                                "name": "prometheus-config",
                                "optional": false
                              }
                            ],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "config",
                            "nfs": [],
                            "persistent_volume_claim": [],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          },
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "ephemeral": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "data",
                            "nfs": [],
                            "persistent_volume_claim": [
                              {
                                "claim_name": "prometheus-data",
                                "read_only": false
                              }
                            ],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "kubernetes_config_map.prometheus_config",
            "kubernetes_namespace.monitoring",
            "kubernetes_persistent_volume_claim.prometheus_data"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "monitoring",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "monitoring",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "monitoring",
                "resource_version": "570469",
                "uid": "1304edd1-5cfd-4d4f-b2b8-cbcda34e89bb"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_persistent_volume_claim",
      "name": "grafana_data",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "monitoring/grafana-data",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "grafana-data",
                "namespace": "monitoring",
                "resource_version": "570738",
                "uid": "8681f503-3900-4c76-8f62-7d30fb78aacb"
              }
            ],
            "spec": [
              {
                "access_modes": [
                  "ReadWriteOnce"
                ],
                "resources": [
                  {
                    "limits": null,
                    "requests": {
                      "storage": "5Gi"
                    }
                  }
                ],
                "selector": [],
                "storage_class_name": "hostpath-immediate",
                "volume_mode": "Filesystem",
                "volume_name": "pvc-8681f503-3900-4c76-8f62-7d30fb78aacb"
              }
            ],
            "timeouts": null,
            "wait_until_bound": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_persistent_volume_claim",
      "name": "prometheus_data",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "monitoring/prometheus-data",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "prometheus-data",
                "namespace": "monitoring",
                "resource_version": "570789",
                "uid": "a1c2531f-dc1d-4671-8114-b408f278d5ca"
              }
            ],
            "spec": [
              {
                "access_modes": [
                  "ReadWriteOnce"
                ],
                "resources": [
                  {
                    "limits": null,
                    "requests": {
                      "storage": "10Gi"
                    }
                  }
                ],
                "selector": [],
                "storage_class_name": "hostpath-immediate",
                "volume_mode": "Filesystem",
                "volume_name": "pvc-a1c2531f-dc1d-4671-8114-b408f278d5ca"
              }
            ],
            "timeouts": null,
            "wait_until_bound": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_pod",
      "name": "knf_ctrl",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "site1",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/knf-ctrl-site1",
            "metadata": [
              {
                "annotations": {
                  "cni.projectcalico.org/containerID": "c57ef0b7230f28585fa9f6dd55da38a845b004f16f2f4f8550e81a92ab65e646",
                  "cni.projectcalico.org/podIP": "10.1.138.29/32",
                  "cni.projectcalico.org/podIPs": "10.1.138.29/32",
                  "k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"k8s-pod-network\",\n    \"ips\": [\n        \"10.1.138.29\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n}]"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s-app": "knf-ctrl-site1"
                },
                "name": "knf-ctrl-site1",
                "namespace": "rdsv",
                "resource_version": "570703",
                "uid": "d1c3b070-a205-4b95-a018-e80ad4f2f45e"
              }
            ],
            "spec": [
              {
                "active_deadline_seconds": 0,
                "affinity": [],
                "automount_service_account_token": true,
                "container": [
                  {
                    "args": null,
                    "command": [
                      "sh",
                      "-c",
                      "set -e\n# Garantizamos que flowmanager sea importable\n[ -f flowmanager/__init__.py ] || mkdir -p flowmanager \u0026\u0026 touch flowmanager/__init__.py\nexport PYTHONPATH=/root:$PYTHONPATH\n\necho \"🚀 Lanzando Ryu controller…\"\nexec /usr/local/bin/ryu-manager \\\n  --ofp-tcp-listen-port 6633 \\\n  flowmanager.flowmanager \\\n  ryu.app.rest_conf_switch \\\n  ryu.app.ofctl_rest \\\n  ryu.app.rest_qos \\\n  qos_simple_switch_13\n"
                    ],
                    "env": [],
                    "env_from": [],
                    "image": "abelrodrigo123/vnf-ryu:latest",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "ryu",
                    "port": [
                      {
                        "container_port": 8080,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "rest",
                        "protocol": "TCP"
                      },
                      {
                        "container_port": 6633,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "openflow",
                        "protocol": "TCP"
                      }
                    ],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {},
                        "requests": {}
                      }
                    ],
                    "security_context": [],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": "/root"
                  }
                ],
                "dns_config": [],
                "dns_policy": "ClusterFirst",
                "enable_service_links": true,
                "host_aliases": [],
                "host_ipc": false,
                "host_network": false,
                "host_pid": false,
                "hostname": "",
                "image_pull_secrets": [],
                "init_container": [],
                "node_name": "vnxlab",
                "node_selector": null,
                "os": [],
                "priority_class_name": "",
                "readiness_gate": [],
                "restart_policy": "Always",
                "runtime_class_name": "",
                "scheduler_name": "default-scheduler",
                "security_context": [],
                "service_account_name": "default",
                "share_process_namespace": false,
                "subdomain": "",
                "termination_grace_period_seconds": 30,
                "toleration": [],
                "topology_spread_constraint": [],
                "volume": []
              }
            ],
            "target_state": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        },
        {
          "index_key": "site2",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/knf-ctrl-site2",
            "metadata": [
              {
                "annotations": {
                  "cni.projectcalico.org/containerID": "a586a7e97382a0d6c2b4b681d875258b343b954cb437d675f0128d496345c82b",
                  "cni.projectcalico.org/podIP": "10.1.138.44/32",
                  "cni.projectcalico.org/podIPs": "10.1.138.44/32",
                  "k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"k8s-pod-network\",\n    \"ips\": [\n        \"10.1.138.44\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n}]"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s-app": "knf-ctrl-site2"
                },
                "name": "knf-ctrl-site2",
                "namespace": "rdsv",
                "resource_version": "570664",
                "uid": "61db6250-d6c9-4982-958a-6adc5cd95215"
              }
            ],
            "spec": [
              {
                "active_deadline_seconds": 0,
                "affinity": [],
                "automount_service_account_token": true,
                "container": [
                  {
                    "args": null,
                    "command": [
                      "sh",
                      "-c",
                      "set -e\n# Garantizamos que flowmanager sea importable\n[ -f flowmanager/__init__.py ] || mkdir -p flowmanager \u0026\u0026 touch flowmanager/__init__.py\nexport PYTHONPATH=/root:$PYTHONPATH\n\necho \"🚀 Lanzando Ryu controller…\"\nexec /usr/local/bin/ryu-manager \\\n  --ofp-tcp-listen-port 6633 \\\n  flowmanager.flowmanager \\\n  ryu.app.rest_conf_switch \\\n  ryu.app.ofctl_rest \\\n  ryu.app.rest_qos \\\n  qos_simple_switch_13\n"
                    ],
                    "env": [],
                    "env_from": [],
                    "image": "abelrodrigo123/vnf-ryu:latest",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "ryu",
                    "port": [
                      {
                        "container_port": 8080,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "rest",
                        "protocol": "TCP"
                      },
                      {
                        "container_port": 6633,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "openflow",
                        "protocol": "TCP"
                      }
                    ],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {},
                        "requests": {}
                      }
                    ],
                    "security_context": [],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": "/root"
                  }
                ],
                "dns_config": [],
                "dns_policy": "ClusterFirst",
                "enable_service_links": true,
                "host_aliases": [],
                "host_ipc": false,
                "host_network": false,
                "host_pid": false,
                "hostname": "",
                "image_pull_secrets": [],
                "init_container": [],
                "node_name": "vnxlab",
                "node_selector": null,
                "os": [],
                "priority_class_name": "",
                "readiness_gate": [],
                "restart_policy": "Always",
                "runtime_class_name": "",
                "scheduler_name": "default-scheduler",
                "security_context": [],
                "service_account_name": "default",
                "share_process_namespace": false,
                "subdomain": "",
                "termination_grace_period_seconds": 30,
                "toleration": [],
                "topology_spread_constraint": [],
                "volume": []
              }
            ],
            "target_state": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_pod",
      "name": "vnf_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "site1",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-access-site1",
            "metadata": [
              {
                "annotations": {
                  "cni.projectcalico.org/containerID": "5921b6988ef94dff4eea328d9a48b7c1a732f507f54a0a488c3b0a7fff0a4d45",
                  "cni.projectcalico.org/podIP": "10.1.138.45/32",
                  "cni.projectcalico.org/podIPs": "10.1.138.45/32",
                  "k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"k8s-pod-network\",\n    \"ips\": [\n        \"10.1.138.45\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n},{\n    \"name\": \"rdsv/accessnet1\",\n    \"interface\": \"net1\",\n    \"mac\": \"c6:ad:3d:2d:d9:0f\",\n    \"dns\": {}\n}]",
                  "k8s.v1.cni.cncf.io/networks": "[{\"interface\":\"net1\",\"name\":\"accessnet1\"}]"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s-app": "vnf-access-site1"
                },
                "name": "vnf-access-site1",
                "namespace": "rdsv",
                "resource_version": "570700",
                "uid": "3b127876-cc6f-4761-a423-18cbfb3ea49b"
              }
            ],
            "spec": [
              {
                "active_deadline_seconds": 0,
                "affinity": [],
                "automount_service_account_token": true,
                "container": [
                  {
                    "args": null,
                    "command": [
                      "/bin/sh",
                      "-c",
                      "    set -e -x\n    /usr/share/openvswitch/scripts/ovs-ctl start\n    while [ ! -e /var/run/openvswitch/db.sock ]; do\n      echo '⏳ Esperando OVS...'\n      sleep 1\n    done\n\n    while true; do\n      CPE_IP=$(getent hosts vnf-cpe-service-site1 | awk '{ print $1 }')\n      if [ ! -z \"$CPE_IP\" ]; then break; fi\n      echo \"⏳ Esperando IP de vnf-cpe...\"\n      sleep 2\n    done\n\n    ACCESS_IP=$(hostname -i)\n    echo \"🌐 IP local (access): $ACCESS_IP\"\n    echo \"🎯 IP remota (cpe): $CPE_IP\"\n\n    ip link del vxlan2 2\u003e/dev/null || true \n    ip link del axscpe 2\u003e/dev/null || true \n\n    ovs-vsctl add-br brint\n    ip link set brint up\n    ifconfig net1 10.255.0.1/24\n\n    ip link add vxlan2 type vxlan id 2 remote 10.255.0.2 dstport 8742 dev net1\n    ip link add axscpe type vxlan id 4 remote $CPE_IP dstport 8742 dev eth0\n\n    ovs-vsctl add-port brint vxlan2\n    ovs-vsctl add-port brint axscpe\n    ip link set vxlan2 up\n    ip link set axscpe up\n\n    #########################################\n    ###############  BRWAN  #################\n    #########################################\n\n    ovs-vsctl add-br brwan\n\n    # VXLAN al cliente\n    ip link add vxlan1 type vxlan id 1 remote 10.255.0.2 dstport 4789 dev net1\n\n    # Esperar IP del vnf-wan\n    while true; do\n    WAN_IP=$(getent hosts vnf-wan-site1-pod | awk '{print $1}')\n      if [ ! -z \"$WAN_IP\" ]; then break; fi\n      echo \"⏳ Esperando IP de vnf-wan-site1...\"\n      sleep 2\n    done\n\n   # VXLAN al WAN\n    ip link add axswan type vxlan id 3 remote $WAN_IP dstport 4788 dev eth0\n\n    ovs-vsctl add-port brwan vxlan1\n    ovs-vsctl add-port brwan axswan\n\n    ip link set vxlan1 up\n    ip link set axswan up\n    \n    \n    #########################################\n   #######  Conectar ambos bridges a Ryu ###\n   #########################################\n\n   while true; do\n  RYU_IP=$(getent hosts knf-ctrl-site1-svc | awk '{print $1}')\n  if [ -n \"$RYU_IP\" ]; then\n    echo \"🔗 Ryu controller IP: $RYU_IP\"\n    break\n  fi\n  echo \"⏳ Esperando IP de controller…\"\n  sleep 2\ndone\n\n   ## 3. Activar el modo SDN en VNF:access\"\n        ovs-vsctl set bridge brwan protocols=OpenFlow10,OpenFlow12,OpenFlow13\n        ovs-vsctl set-fail-mode brwan secure\n        ovs-vsctl set bridge brwan other-config:datapath-id=0000000000000003\n        ovs-vsctl set-controller brwan tcp:$RYU_IP:6633\n        ovs-vsctl set-manager ptcp:6632\n\n    sleep infinity\n"
                    ],
                    "env": [],
                    "env_from": [],
                    "image": "educaredes/vnf-access",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "vnf-access",
                    "port": [],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {},
                        "requests": {}
                      }
                    ],
                    "security_context": [
                      {
                        "allow_privilege_escalation": true,
                        "capabilities": [
                          {
                            "add": [
                              "NET_ADMIN",
                              "SYS_ADMIN"
                            ],
                            "drop": null
                          }
                        ],
                        "privileged": true,
                        "read_only_root_filesystem": false,
                        "run_as_group": "",
                        "run_as_non_root": false,
                        "run_as_user": "",
                        "se_linux_options": [],
                        "seccomp_profile": []
                      }
                    ],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  },
                  {
                    "args": null,
                    "command": null,
                    "env": [],
                    "env_from": [],
                    "image": "quay.io/prometheus/node-exporter:latest",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "node-exporter",
                    "port": [
                      {
                        "container_port": 9100,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "",
                        "protocol": "TCP"
                      }
                    ],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {
                          "cpu": "100m",
                          "memory": "128Mi"
                        },
                        "requests": {
                          "cpu": "50m",
                          "memory": "64Mi"
                        }
                      }
                    ],
                    "security_context": [],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  }
                ],
                "dns_config": [],
                "dns_policy": "ClusterFirst",
                "enable_service_links": true,
                "host_aliases": [],
                "host_ipc": false,
                "host_network": false,
                "host_pid": false,
                "hostname": "",
                "image_pull_secrets": [],
                "init_container": [],
                "node_name": "vnxlab",
                "node_selector": null,
                "os": [],
                "priority_class_name": "",
                "readiness_gate": [],
                "restart_policy": "Always",
                "runtime_class_name": "",
                "scheduler_name": "default-scheduler",
                "security_context": [],
                "service_account_name": "default",
                "share_process_namespace": false,
                "subdomain": "",
                "termination_grace_period_seconds": 30,
                "toleration": [],
                "topology_spread_constraint": [],
                "volume": []
              }
            ],
            "target_state": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        },
        {
          "index_key": "site2",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-access-site2",
            "metadata": [
              {
                "annotations": {
                  "cni.projectcalico.org/containerID": "26d6cb16f795e1ce2625ffc1e68d58291e174ea567fb3a645500c4fe7d994c44",
                  "cni.projectcalico.org/podIP": "10.1.138.39/32",
                  "cni.projectcalico.org/podIPs": "10.1.138.39/32",
                  "k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"k8s-pod-network\",\n    \"ips\": [\n        \"10.1.138.39\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n},{\n    \"name\": \"rdsv/accessnet2\",\n    \"interface\": \"net2\",\n    \"mac\": \"16:f5:36:06:4d:a8\",\n    \"dns\": {}\n}]",
                  "k8s.v1.cni.cncf.io/networks": "[{\"interface\":\"net2\",\"name\":\"accessnet2\"}]"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s-app": "vnf-access-site2"
                },
                "name": "vnf-access-site2",
                "namespace": "rdsv",
                "resource_version": "570729",
                "uid": "c870cacd-9d3c-4fd5-8b5c-ecf78f622646"
              }
            ],
            "spec": [
              {
                "active_deadline_seconds": 0,
                "affinity": [],
                "automount_service_account_token": true,
                "container": [
                  {
                    "args": null,
                    "command": [
                      "/bin/sh",
                      "-c",
                      "    set -e -x\n    /usr/share/openvswitch/scripts/ovs-ctl start\n    while [ ! -e /var/run/openvswitch/db.sock ]; do\n      echo '⏳ Esperando OVS...'\n      sleep 1\n    done\n\n    while true; do\n      CPE_IP=$(getent hosts vnf-cpe-service-site2 | awk '{ print $1 }')\n      if [ ! -z \"$CPE_IP\" ]; then break; fi\n      echo \"⏳ Esperando IP de vnf-cpe...\"\n      sleep 2\n    done\n\n    ACCESS_IP=$(hostname -i)\n    echo \"🌐 IP local (access): $ACCESS_IP\"\n    echo \"🎯 IP remota (cpe): $CPE_IP\"\n\n    ip link del vxlan2 2\u003e/dev/null || true \n    ip link del axscpe 2\u003e/dev/null || true \n\n    ovs-vsctl add-br brint\n    ip link set brint up\n    ifconfig net2 10.255.0.1/24\n\n    ip link add vxlan2 type vxlan id 2 remote 10.255.0.2 dstport 8742 dev net2\n    ip link add axscpe type vxlan id 4 remote $CPE_IP dstport 8742 dev eth0\n\n    ovs-vsctl add-port brint vxlan2\n    ovs-vsctl add-port brint axscpe\n    ip link set vxlan2 up\n    ip link set axscpe up\n\n    #########################################\n    ###############  BRWAN  #################\n    #########################################\n\n    ovs-vsctl add-br brwan\n\n    # VXLAN al cliente\n    ip link add vxlan1 type vxlan id 1 remote 10.255.0.2 dstport 4789 dev net2\n\n    # Esperar IP del vnf-wan\n    while true; do\n    WAN_IP=$(getent hosts vnf-wan-site2-pod | awk '{print $1}')\n      if [ ! -z \"$WAN_IP\" ]; then break; fi\n      echo \"⏳ Esperando IP de vnf-wan-site2...\"\n      sleep 2\n    done\n\n   # VXLAN al WAN\n    ip link add axswan type vxlan id 3 remote $WAN_IP dstport 4788 dev eth0\n\n    ovs-vsctl add-port brwan vxlan1\n    ovs-vsctl add-port brwan axswan\n\n    ip link set vxlan1 up\n    ip link set axswan up\n    \n    \n    #########################################\n   #######  Conectar ambos bridges a Ryu ###\n   #########################################\n\n   while true; do\n  RYU_IP=$(getent hosts knf-ctrl-site2-svc | awk '{print $1}')\n  if [ -n \"$RYU_IP\" ]; then\n    echo \"🔗 Ryu controller IP: $RYU_IP\"\n    break\n  fi\n  echo \"⏳ Esperando IP de controller…\"\n  sleep 2\ndone\n\n   ## 3. Activar el modo SDN en VNF:access\"\n        ovs-vsctl set bridge brwan protocols=OpenFlow10,OpenFlow12,OpenFlow13\n        ovs-vsctl set-fail-mode brwan secure\n        ovs-vsctl set bridge brwan other-config:datapath-id=0000000000000003\n        ovs-vsctl set-controller brwan tcp:$RYU_IP:6633\n        ovs-vsctl set-manager ptcp:6632\n\n    sleep infinity\n"
                    ],
                    "env": [],
                    "env_from": [],
                    "image": "educaredes/vnf-access",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "vnf-access",
                    "port": [],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {},
                        "requests": {}
                      }
                    ],
                    "security_context": [
                      {
                        "allow_privilege_escalation": true,
                        "capabilities": [
                          {
                            "add": [
                              "NET_ADMIN",
                              "SYS_ADMIN"
                            ],
                            "drop": null
                          }
                        ],
                        "privileged": true,
                        "read_only_root_filesystem": false,
                        "run_as_group": "",
                        "run_as_non_root": false,
                        "run_as_user": "",
                        "se_linux_options": [],
                        "seccomp_profile": []
                      }
                    ],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  },
                  {
                    "args": null,
                    "command": null,
                    "env": [],
                    "env_from": [],
                    "image": "quay.io/prometheus/node-exporter:latest",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "node-exporter",
                    "port": [
                      {
                        "container_port": 9100,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "",
                        "protocol": "TCP"
                      }
                    ],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {
                          "cpu": "100m",
                          "memory": "128Mi"
                        },
                        "requests": {
                          "cpu": "50m",
                          "memory": "64Mi"
                        }
                      }
                    ],
                    "security_context": [],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  }
                ],
                "dns_config": [],
                "dns_policy": "ClusterFirst",
                "enable_service_links": true,
                "host_aliases": [],
                "host_ipc": false,
                "host_network": false,
                "host_pid": false,
                "hostname": "",
                "image_pull_secrets": [],
                "init_container": [],
                "node_name": "vnxlab",
                "node_selector": null,
                "os": [],
                "priority_class_name": "",
                "readiness_gate": [],
                "restart_policy": "Always",
                "runtime_class_name": "",
                "scheduler_name": "default-scheduler",
                "security_context": [],
                "service_account_name": "default",
                "share_process_namespace": false,
                "subdomain": "",
                "termination_grace_period_seconds": 30,
                "toleration": [],
                "topology_spread_constraint": [],
                "volume": []
              }
            ],
            "target_state": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_pod",
      "name": "vnf_cpe",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "site1",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-cpe-site1",
            "metadata": [
              {
                "annotations": {
                  "cni.projectcalico.org/containerID": "b7320ca4dcd305a60258179e17bbdbc2c7b4acbbea5d13a2fb5adca20c0e67a7",
                  "cni.projectcalico.org/podIP": "10.1.138.1/32",
                  "cni.projectcalico.org/podIPs": "10.1.138.1/32",
                  "k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"k8s-pod-network\",\n    \"ips\": [\n        \"10.1.138.1\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n},{\n    \"name\": \"rdsv/extnet1\",\n    \"interface\": \"net1\",\n    \"mac\": \"f6:23:28:29:ff:01\",\n    \"dns\": {}\n}]",
                  "k8s.v1.cni.cncf.io/networks": "[{\"interface\":\"net1\",\"name\":\"extnet1\"}]"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s-app": "vnf-cpe-site1"
                },
                "name": "vnf-cpe-site1",
                "namespace": "rdsv",
                "resource_version": "570710",
                "uid": "676f0f79-a766-4ed7-94bd-d079d0aa81e4"
              }
            ],
            "spec": [
              {
                "active_deadline_seconds": 0,
                "affinity": [],
                "automount_service_account_token": true,
                "container": [
                  {
                    "args": null,
                    "command": [
                      "/bin/sh",
                      "-c",
                      "          set -e -x\n          /usr/share/openvswitch/scripts/ovs-ctl start\n          while [ ! -e /var/run/openvswitch/db.sock ]; do echo '⏳ Esperando OVS…'; sleep 1; done\n\n          ################################ [1] Resolver ACCESS\n          while true; do\n            ACCESS_IP=$(getent hosts vnf-access-site1-service | awk '{print $1}')\n            [ -n \"$ACCESS_IP\" ] \u0026\u0026 break\n            echo '⏳ Esperando IP de vnf-access…'; sleep 2\n          done\n          echo \"🌐 CPE $(hostname -i) → access $ACCESS_IP\"\n\n          ################################ [2] Resolver WAN antes de tocar rutas\n          while true; do\n            WAN_IP=$(getent hosts vnf-wan-site1-pod | awk '{print $1}')\n            [ -n \"$WAN_IP\" ] \u0026\u0026 break\n            echo \"⏳ Esperando IP de vnf-wan-site1-pod…\"; sleep 2\n          done\n          echo \"🎯 WAN_IP=$WAN_IP\"\n\n           while true; do\n  RYU_IP=$(getent hosts knf-ctrl-site1-svc | awk '{print $1}')\n  if [ -n \"$RYU_IP\" ]; then\n    echo \"🔗 Ryu controller IP: $RYU_IP\"\n    break\n  fi\n  echo \"⏳ Esperando IP de controller…\"\n  sleep 2\ndone\n\n          \n\n          ################################ BRINT  (access ↔ cpe)\n          # 1. Crear bridge OVS dentro del contenedor CPE\n          ovs-vsctl add-br brint\n\n          # 2. Asignar IP interna al bridge (LAN cliente)\n          ifconfig brint 192.168.255.254/24\n\n          # 3. Crear túnel VXLAN ID 4 hacia Access\n          ip link add axscpe type vxlan id 4 remote $ACCESS_IP dstport 8742 dev eth0 || true\n          ovs-vsctl add-port brint axscpe\n          ifconfig axscpe up\n\n          # 4. Ajustar MTU para evitar fragmentación VXLAN\n          ifconfig brint mtu 1400\n\n          # 5. Asignar IP pública al vCPE (interfaz netX)\n          ifconfig net1 10.100.1.1/24\n\n          # 6. Rutas para poder alcanzar primero al Pod Access\n          ip route add $ACCESS_IP/32 via 169.254.1.1\n          ip route add $RYU_IP/32 via 169.254.1.1 dev eth0\n\n          # 6 bis. Retorno al clúster Kubernetes (POD y Service CIDR)\n          ip route add 10.0.0.0/15      via 169.254.1.1   # Pods\n          ip route add 10.152.183.0/24  via 169.254.1.1   # Services\n\n          # 7. Ahora modificamos la ruta por defecto\n          ip route del 0.0.0.0/0 via 169.254.1.1\n          ip route add 0.0.0.0/0 via 10.100.1.254\n\n          # 8. Ruta hacia la subred privada del cliente\n          ip route add 10.20.1.0/24 via 192.168.255.253\n\n          ################################  Interfaz pública + NAT\n          /vnx_config_nat brint net1\n\n          ################################ [4] BRWAN   (cpe ↔ wan)\n          # WAN_IP ya está resuelto. Sólo queda crear el bridge y túneles.\n          ip route add $WAN_IP/32 via 169.254.1.1\n          ovs-vsctl add-br brwan\n          ifconfig brwan mtu 1400          \n          ifconfig brwan up     \n\n           ## 3. Activar el modo SDN en VNF:wan\"\n        ovs-vsctl set bridge brwan protocols=OpenFlow10,OpenFlow12,OpenFlow13\n        ovs-vsctl set-fail-mode brwan secure\n        ovs-vsctl set bridge brwan other-config:datapath-id=0000000000000002\n        ovs-vsctl set-controller brwan tcp:$RYU_IP:6633\n        ovs-vsctl set-manager ptcp:6632\n\n          #######  Conectar ambos bridges a Ryu ###\n   ######################################\n\n          ip link add cpewan type vxlan id 5 remote $WAN_IP dstport 8741 dev eth0\n          ovs-vsctl add-port brwan cpewan\n          ifconfig cpewan up\n\n          # VXLAN entre sites (sr1 ↔ sr2)\n          ip link add sr1sr2 type vxlan id 12 remote 10.100.2.1 dstport 8742 dev net1\n          ovs-vsctl add-port brwan sr1sr2\n          ifconfig sr1sr2 up\n\n          #########################################\n   \n\n          sleep infinity\n"
                    ],
                    "env": [],
                    "env_from": [],
                    "image": "educaredes/vnf-cpe",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "vnf-cpe",
                    "port": [],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {},
                        "requests": {}
                      }
                    ],
                    "security_context": [
                      {
                        "allow_privilege_escalation": true,
                        "capabilities": [
                          {
                            "add": [
                              "NET_ADMIN",
                              "SYS_ADMIN"
                            ],
                            "drop": null
                          }
                        ],
                        "privileged": true,
                        "read_only_root_filesystem": false,
                        "run_as_group": "",
                        "run_as_non_root": false,
                        "run_as_user": "",
                        "se_linux_options": [],
                        "seccomp_profile": []
                      }
                    ],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  },
                  {
                    "args": null,
                    "command": null,
                    "env": [],
                    "env_from": [],
                    "image": "quay.io/prometheus/node-exporter:latest",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "node-exporter",
                    "port": [
                      {
                        "container_port": 9100,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "metrics",
                        "protocol": "TCP"
                      }
                    ],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {
                          "cpu": "100m",
                          "memory": "64Mi"
                        },
                        "requests": {
                          "cpu": "50m",
                          "memory": "32Mi"
                        }
                      }
                    ],
                    "security_context": [],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  }
                ],
                "dns_config": [],
                "dns_policy": "ClusterFirst",
                "enable_service_links": true,
                "host_aliases": [],
                "host_ipc": false,
                "host_network": false,
                "host_pid": false,
                "hostname": "",
                "image_pull_secrets": [],
                "init_container": [],
                "node_name": "vnxlab",
                "node_selector": null,
                "os": [],
                "priority_class_name": "",
                "readiness_gate": [],
                "restart_policy": "Always",
                "runtime_class_name": "",
                "scheduler_name": "default-scheduler",
                "security_context": [],
                "service_account_name": "default",
                "share_process_namespace": false,
                "subdomain": "",
                "termination_grace_period_seconds": 30,
                "toleration": [],
                "topology_spread_constraint": [],
                "volume": []
              }
            ],
            "target_state": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        },
        {
          "index_key": "site2",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-cpe-site2",
            "metadata": [
              {
                "annotations": {
                  "cni.projectcalico.org/containerID": "5b1dc15ed85ef81e4d07f031c64275a3c556718f25150b705adcdd3b962c154e",
                  "cni.projectcalico.org/podIP": "10.1.138.63/32",
                  "cni.projectcalico.org/podIPs": "10.1.138.63/32",
                  "k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"k8s-pod-network\",\n    \"ips\": [\n        \"10.1.138.63\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n},{\n    \"name\": \"rdsv/extnet2\",\n    \"interface\": \"net2\",\n    \"mac\": \"f2:e9:f7:bb:f1:43\",\n    \"dns\": {}\n}]",
                  "k8s.v1.cni.cncf.io/networks": "[{\"interface\":\"net2\",\"name\":\"extnet2\"}]"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s-app": "vnf-cpe-site2"
                },
                "name": "vnf-cpe-site2",
                "namespace": "rdsv",
                "resource_version": "570711",
                "uid": "695dde6d-27b9-4783-ac3f-aba0851c3560"
              }
            ],
            "spec": [
              {
                "active_deadline_seconds": 0,
                "affinity": [],
                "automount_service_account_token": true,
                "container": [
                  {
                    "args": null,
                    "command": [
                      "/bin/sh",
                      "-c",
                      "          set -e -x\n          /usr/share/openvswitch/scripts/ovs-ctl start\n          while [ ! -e /var/run/openvswitch/db.sock ]; do echo '⏳ Esperando OVS…'; sleep 1; done\n\n          ################################ [1] Resolver ACCESS\n          while true; do\n            ACCESS_IP=$(getent hosts vnf-access-site2-service | awk '{print $1}')\n            [ -n \"$ACCESS_IP\" ] \u0026\u0026 break\n            echo '⏳ Esperando IP de vnf-access…'; sleep 2\n          done\n          echo \"🌐 CPE $(hostname -i) → access $ACCESS_IP\"\n\n          ################################ [2] Resolver WAN antes de tocar rutas\n          while true; do\n            WAN_IP=$(getent hosts vnf-wan-site2-pod | awk '{print $1}')\n            [ -n \"$WAN_IP\" ] \u0026\u0026 break\n            echo \"⏳ Esperando IP de vnf-wan-site2-pod…\"; sleep 2\n          done\n          echo \"🎯 WAN_IP=$WAN_IP\"\n\n           while true; do\n  RYU_IP=$(getent hosts knf-ctrl-site2-svc | awk '{print $1}')\n  if [ -n \"$RYU_IP\" ]; then\n    echo \"🔗 Ryu controller IP: $RYU_IP\"\n    break\n  fi\n  echo \"⏳ Esperando IP de controller…\"\n  sleep 2\ndone\n\n          \n\n          ################################ BRINT  (access ↔ cpe)\n          # 1. Crear bridge OVS dentro del contenedor CPE\n          ovs-vsctl add-br brint\n\n          # 2. Asignar IP interna al bridge (LAN cliente)\n          ifconfig brint 192.168.255.254/24\n\n          # 3. Crear túnel VXLAN ID 4 hacia Access\n          ip link add axscpe type vxlan id 4 remote $ACCESS_IP dstport 8742 dev eth0 || true\n          ovs-vsctl add-port brint axscpe\n          ifconfig axscpe up\n\n          # 4. Ajustar MTU para evitar fragmentación VXLAN\n          ifconfig brint mtu 1400\n\n          # 5. Asignar IP pública al vCPE (interfaz netX)\n          ifconfig net2 10.100.2.1/24\n\n          # 6. Rutas para poder alcanzar primero al Pod Access\n          ip route add $ACCESS_IP/32 via 169.254.1.1\n          ip route add $RYU_IP/32 via 169.254.1.1 dev eth0\n\n          # 6 bis. Retorno al clúster Kubernetes (POD y Service CIDR)\n          ip route add 10.0.0.0/15      via 169.254.1.1   # Pods\n          ip route add 10.152.183.0/24  via 169.254.1.1   # Services\n\n          # 7. Ahora modificamos la ruta por defecto\n          ip route del 0.0.0.0/0 via 169.254.1.1\n          ip route add 0.0.0.0/0 via 10.100.2.254\n\n          # 8. Ruta hacia la subred privada del cliente\n          ip route add 10.20.2.0/24 via 192.168.255.253\n\n          ################################  Interfaz pública + NAT\n          /vnx_config_nat brint net2\n\n          ################################ [4] BRWAN   (cpe ↔ wan)\n          # WAN_IP ya está resuelto. Sólo queda crear el bridge y túneles.\n          ip route add $WAN_IP/32 via 169.254.1.1\n          ovs-vsctl add-br brwan\n          ifconfig brwan mtu 1400          \n          ifconfig brwan up     \n\n           ## 3. Activar el modo SDN en VNF:wan\"\n        ovs-vsctl set bridge brwan protocols=OpenFlow10,OpenFlow12,OpenFlow13\n        ovs-vsctl set-fail-mode brwan secure\n        ovs-vsctl set bridge brwan other-config:datapath-id=0000000000000002\n        ovs-vsctl set-controller brwan tcp:$RYU_IP:6633\n        ovs-vsctl set-manager ptcp:6632\n\n          #######  Conectar ambos bridges a Ryu ###\n   ######################################\n\n          ip link add cpewan type vxlan id 5 remote $WAN_IP dstport 8741 dev eth0\n          ovs-vsctl add-port brwan cpewan\n          ifconfig cpewan up\n\n          # VXLAN entre sites (sr1 ↔ sr2)\n          ip link add sr1sr2 type vxlan id 12 remote 10.100.1.1 dstport 8742 dev net2\n          ovs-vsctl add-port brwan sr1sr2\n          ifconfig sr1sr2 up\n\n          #########################################\n   \n\n          sleep infinity\n"
                    ],
                    "env": [],
                    "env_from": [],
                    "image": "educaredes/vnf-cpe",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "vnf-cpe",
                    "port": [],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {},
                        "requests": {}
                      }
                    ],
                    "security_context": [
                      {
                        "allow_privilege_escalation": true,
                        "capabilities": [
                          {
                            "add": [
                              "NET_ADMIN",
                              "SYS_ADMIN"
                            ],
                            "drop": null
                          }
                        ],
                        "privileged": true,
                        "read_only_root_filesystem": false,
                        "run_as_group": "",
                        "run_as_non_root": false,
                        "run_as_user": "",
                        "se_linux_options": [],
                        "seccomp_profile": []
                      }
                    ],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  },
                  {
                    "args": null,
                    "command": null,
                    "env": [],
                    "env_from": [],
                    "image": "quay.io/prometheus/node-exporter:latest",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "node-exporter",
                    "port": [
                      {
                        "container_port": 9100,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "metrics",
                        "protocol": "TCP"
                      }
                    ],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {
                          "cpu": "100m",
                          "memory": "64Mi"
                        },
                        "requests": {
                          "cpu": "50m",
                          "memory": "32Mi"
                        }
                      }
                    ],
                    "security_context": [],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  }
                ],
                "dns_config": [],
                "dns_policy": "ClusterFirst",
                "enable_service_links": true,
                "host_aliases": [],
                "host_ipc": false,
                "host_network": false,
                "host_pid": false,
                "hostname": "",
                "image_pull_secrets": [],
                "init_container": [],
                "node_name": "vnxlab",
                "node_selector": null,
                "os": [],
                "priority_class_name": "",
                "readiness_gate": [],
                "restart_policy": "Always",
                "runtime_class_name": "",
                "scheduler_name": "default-scheduler",
                "security_context": [],
                "service_account_name": "default",
                "share_process_namespace": false,
                "subdomain": "",
                "termination_grace_period_seconds": 30,
                "toleration": [],
                "topology_spread_constraint": [],
                "volume": []
              }
            ],
            "target_state": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_pod",
      "name": "vnf_wan",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "site1",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-wan-site1",
            "metadata": [
              {
                "annotations": {
                  "cni.projectcalico.org/containerID": "f5cce6a4a81cf65fa35df51e0a22755e1ae16aafb573babb2b9a955c0f30f11c",
                  "cni.projectcalico.org/podIP": "10.1.138.56/32",
                  "cni.projectcalico.org/podIPs": "10.1.138.56/32",
                  "k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"k8s-pod-network\",\n    \"ips\": [\n        \"10.1.138.56\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n},{\n    \"name\": \"rdsv/mplswan\",\n    \"interface\": \"net1\",\n    \"mac\": \"96:c1:9f:99:3c:ee\",\n    \"dns\": {}\n}]",
                  "k8s.v1.cni.cncf.io/networks": "[{\"interface\":\"net1\",\"name\":\"mplswan\"}]"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s-app": "vnf-wan-site1"
                },
                "name": "vnf-wan-site1",
                "namespace": "rdsv",
                "resource_version": "570685",
                "uid": "1851d82c-7eea-4794-b302-2d9dc6377f48"
              }
            ],
            "spec": [
              {
                "active_deadline_seconds": 0,
                "affinity": [],
                "automount_service_account_token": true,
                "container": [
                  {
                    "args": null,
                    "command": [
                      "/bin/sh",
                      "-c",
                      "set -e -x\n/usr/share/openvswitch/scripts/ovs-ctl start\nwhile [ ! -e /var/run/openvswitch/db.sock ]; do\n  echo '⏳ Esperando OVS...'\n  sleep 1\ndone\n\nwhile true; do\n  ACCESS_IP=$(getent hosts vnf-access-site1-service | awk '{print $1}')\n  if [ ! -z \"$ACCESS_IP\" ]; then break; fi\n  echo \"⏳ Esperando IP de vnf-access-site1...\"\n  sleep 2\ndone\n\nWAN_IP=$(hostname -i)\necho \"🌐 IP local (wan): $WAN_IP\"\necho \"🎯 IP remota (access): $ACCESS_IP\"\n\nip link del axswan 2\u003e/dev/null || true\n\n# Configuración BRWAN\nwhile true; do\n  CPE_IP=$(getent hosts vnf-cpe-service-site1 | awk '{print $1}')\n  if [ ! -z \"$CPE_IP\" ]; then break; fi\n  echo \"⏳ Esperando IP de vnf-cpe...\"\n  sleep 2\ndone\n\novs-vsctl add-br brwan\n\nip link add axswan type vxlan id 3 remote $ACCESS_IP dstport 4788 dev eth0\novs-vsctl add-port brwan axswan\novs-vsctl add-port brwan net1\nip link set axswan up\nip route del $ACCESS_IP via 169.254.1.1 dev eth0 2\u003e/dev/null || true\nip route add $ACCESS_IP via 169.254.1.1 dev eth0\n\nip link del cpewan 2\u003e/dev/null || true\nip link add cpewan type vxlan id 5 remote $CPE_IP dstport 8741 dev eth0\novs-vsctl add-port brwan cpewan\nifconfig cpewan up\n\n# Conectar bridge a controlador Ryu\nwhile true; do\n  RYU_IP=$(getent hosts knf-ctrl-site1-svc | awk '{print $1}')\n  if [ -n \"$RYU_IP\" ]; then\n    echo \"🔗 Ryu controller IP: $RYU_IP\"\n    break\n  fi\n  echo \"⏳ Esperando IP de controller…\"\n  sleep 2\ndone\n\novs-vsctl set bridge brwan protocols=OpenFlow10,OpenFlow12,OpenFlow13\novs-vsctl set-fail-mode brwan secure\novs-vsctl set bridge brwan other-config:datapath-id=0000000000000001\novs-vsctl set-controller brwan tcp:$RYU_IP:6633\novs-vsctl set-manager ptcp:6632\n\nsleep infinity\n"
                    ],
                    "env": [],
                    "env_from": [],
                    "image": "educaredes/vnf-wan",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "vnf-wan",
                    "port": [],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {},
                        "requests": {}
                      }
                    ],
                    "security_context": [
                      {
                        "allow_privilege_escalation": true,
                        "capabilities": [
                          {
                            "add": [
                              "NET_ADMIN",
                              "SYS_ADMIN"
                            ],
                            "drop": null
                          }
                        ],
                        "privileged": true,
                        "read_only_root_filesystem": false,
                        "run_as_group": "",
                        "run_as_non_root": false,
                        "run_as_user": "",
                        "se_linux_options": [],
                        "seccomp_profile": []
                      }
                    ],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  },
                  {
                    "args": null,
                    "command": null,
                    "env": [],
                    "env_from": [],
                    "image": "quay.io/prometheus/node-exporter:latest",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "node-exporter",
                    "port": [
                      {
                        "container_port": 9100,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "metrics",
                        "protocol": "TCP"
                      }
                    ],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {
                          "cpu": "100m",
                          "memory": "64Mi"
                        },
                        "requests": {
                          "cpu": "50m",
                          "memory": "32Mi"
                        }
                      }
                    ],
                    "security_context": [],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  }
                ],
                "dns_config": [],
                "dns_policy": "ClusterFirst",
                "enable_service_links": true,
                "host_aliases": [],
                "host_ipc": false,
                "host_network": false,
                "host_pid": false,
                "hostname": "",
                "image_pull_secrets": [],
                "init_container": [],
                "node_name": "vnxlab",
                "node_selector": null,
                "os": [],
                "priority_class_name": "",
                "readiness_gate": [],
                "restart_policy": "Always",
                "runtime_class_name": "",
                "scheduler_name": "default-scheduler",
                "security_context": [],
                "service_account_name": "default",
                "share_process_namespace": false,
                "subdomain": "",
                "termination_grace_period_seconds": 30,
                "toleration": [],
                "topology_spread_constraint": [],
                "volume": []
              }
            ],
            "target_state": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        },
        {
          "index_key": "site2",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-wan-site2",
            "metadata": [
              {
                "annotations": {
                  "cni.projectcalico.org/containerID": "b52220a1512a980de4f90b9f29cccd25c5f48323e3c6ec2e7b3a8e32100e28b7",
                  "cni.projectcalico.org/podIP": "10.1.138.60/32",
                  "cni.projectcalico.org/podIPs": "10.1.138.60/32",
                  "k8s.v1.cni.cncf.io/network-status": "[{\n    \"name\": \"k8s-pod-network\",\n    \"ips\": [\n        \"10.1.138.60\"\n    ],\n    \"default\": true,\n    \"dns\": {}\n},{\n    \"name\": \"rdsv/mplswan\",\n    \"interface\": \"net1\",\n    \"mac\": \"36:60:c1:56:d6:12\",\n    \"dns\": {}\n}]",
                  "k8s.v1.cni.cncf.io/networks": "[{\"interface\":\"net1\",\"name\":\"mplswan\"}]"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "k8s-app": "vnf-wan-site2"
                },
                "name": "vnf-wan-site2",
                "namespace": "rdsv",
                "resource_version": "570725",
                "uid": "b934a148-f73d-4746-b1b6-4b29755d0947"
              }
            ],
            "spec": [
              {
                "active_deadline_seconds": 0,
                "affinity": [],
                "automount_service_account_token": true,
                "container": [
                  {
                    "args": null,
                    "command": [
                      "/bin/sh",
                      "-c",
                      "set -e -x\n/usr/share/openvswitch/scripts/ovs-ctl start\nwhile [ ! -e /var/run/openvswitch/db.sock ]; do\n  echo '⏳ Esperando OVS...'\n  sleep 1\ndone\n\nwhile true; do\n  ACCESS_IP=$(getent hosts vnf-access-site2-service | awk '{print $1}')\n  if [ ! -z \"$ACCESS_IP\" ]; then break; fi\n  echo \"⏳ Esperando IP de vnf-access-site2...\"\n  sleep 2\ndone\n\nWAN_IP=$(hostname -i)\necho \"🌐 IP local (wan): $WAN_IP\"\necho \"🎯 IP remota (access): $ACCESS_IP\"\n\nip link del axswan 2\u003e/dev/null || true\n\n# Configuración BRWAN\nwhile true; do\n  CPE_IP=$(getent hosts vnf-cpe-service-site2 | awk '{print $1}')\n  if [ ! -z \"$CPE_IP\" ]; then break; fi\n  echo \"⏳ Esperando IP de vnf-cpe...\"\n  sleep 2\ndone\n\novs-vsctl add-br brwan\n\nip link add axswan type vxlan id 3 remote $ACCESS_IP dstport 4788 dev eth0\novs-vsctl add-port brwan axswan\novs-vsctl add-port brwan net1\nip link set axswan up\nip route del $ACCESS_IP via 169.254.1.1 dev eth0 2\u003e/dev/null || true\nip route add $ACCESS_IP via 169.254.1.1 dev eth0\n\nip link del cpewan 2\u003e/dev/null || true\nip link add cpewan type vxlan id 5 remote $CPE_IP dstport 8741 dev eth0\novs-vsctl add-port brwan cpewan\nifconfig cpewan up\n\n# Conectar bridge a controlador Ryu\nwhile true; do\n  RYU_IP=$(getent hosts knf-ctrl-site2-svc | awk '{print $1}')\n  if [ -n \"$RYU_IP\" ]; then\n    echo \"🔗 Ryu controller IP: $RYU_IP\"\n    break\n  fi\n  echo \"⏳ Esperando IP de controller…\"\n  sleep 2\ndone\n\novs-vsctl set bridge brwan protocols=OpenFlow10,OpenFlow12,OpenFlow13\novs-vsctl set-fail-mode brwan secure\novs-vsctl set bridge brwan other-config:datapath-id=0000000000000001\novs-vsctl set-controller brwan tcp:$RYU_IP:6633\novs-vsctl set-manager ptcp:6632\n\nsleep infinity\n"
                    ],
                    "env": [],
                    "env_from": [],
                    "image": "educaredes/vnf-wan",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "vnf-wan",
                    "port": [],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {},
                        "requests": {}
                      }
                    ],
                    "security_context": [
                      {
                        "allow_privilege_escalation": true,
                        "capabilities": [
                          {
                            "add": [
                              "NET_ADMIN",
                              "SYS_ADMIN"
                            ],
                            "drop": null
                          }
                        ],
                        "privileged": true,
                        "read_only_root_filesystem": false,
                        "run_as_group": "",
                        "run_as_non_root": false,
                        "run_as_user": "",
                        "se_linux_options": [],
                        "seccomp_profile": []
                      }
                    ],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  },
                  {
                    "args": null,
                    "command": null,
                    "env": [],
                    "env_from": [],
                    "image": "quay.io/prometheus/node-exporter:latest",
                    "image_pull_policy": "Always",
                    "lifecycle": [],
                    "liveness_probe": [],
                    "name": "node-exporter",
                    "port": [
                      {
                        "container_port": 9100,
                        "host_ip": "",
                        "host_port": 0,
                        "name": "metrics",
                        "protocol": "TCP"
                      }
                    ],
                    "readiness_probe": [],
                    "resources": [
                      {
                        "limits": {
                          "cpu": "100m",
                          "memory": "64Mi"
                        },
                        "requests": {
                          "cpu": "50m",
                          "memory": "32Mi"
                        }
                      }
                    ],
                    "security_context": [],
                    "startup_probe": [],
                    "stdin": false,
                    "stdin_once": false,
                    "termination_message_path": "/dev/termination-log",
                    "termination_message_policy": "File",
                    "tty": false,
                    "volume_device": [],
                    "volume_mount": [],
                    "working_dir": ""
                  }
                ],
                "dns_config": [],
                "dns_policy": "ClusterFirst",
                "enable_service_links": true,
                "host_aliases": [],
                "host_ipc": false,
                "host_network": false,
                "host_pid": false,
                "hostname": "",
                "image_pull_secrets": [],
                "init_container": [],
                "node_name": "vnxlab",
                "node_selector": null,
                "os": [],
                "priority_class_name": "",
                "readiness_gate": [],
                "restart_policy": "Always",
                "runtime_class_name": "",
                "scheduler_name": "default-scheduler",
                "security_context": [],
                "service_account_name": "default",
                "share_process_namespace": false,
                "subdomain": "",
                "termination_grace_period_seconds": 30,
                "toleration": [],
                "topology_spread_constraint": [],
                "volume": []
              }
            ],
            "target_state": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_secret",
      "name": "prometheus_cert",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "binary_data_wo": null,
            "binary_data_wo_revision": null,
            "data": {
              "ca.crt": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUREekNDQWZlZ0F3SUJBZ0lVUG1rSUUyb3ZRTHA0QXlsNEhRRTNvWU9VNk1vd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0Z6RVZNQk1HQTFVRUF3d01NVEF1TVRVeUxqRTRNeTR4TUI0WERUSTBNVEF5TmpFM016UXpObG9YRFRNMApNVEF5TkRFM016UXpObG93RnpFVk1CTUdBMVVFQXd3TU1UQXVNVFV5TGpFNE15NHhNSUlCSWpBTkJna3Foa2lHCjl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2MlBPWFV4Uk5CM2pnYVRRVVB1TEJJRTBGaGl3aEhFckp1c0cKdDdHZ1ZZM0grY0I0bVJOcG8xTU9QYjZxb0ZHK0xmcWZNeUs5SllQK0NQcGQyZHRZMTQ0bXErWjhTRGFNc3U4NApXOFY4ZUFQV0F2ang1bVp3OTl3Z1hZalRuVjFpb2hVS3pKTEZrVDBPTytJbC9TVVg4Wng3Q0Zoc2JXVkVwQWdkCjVNYTNzRHpoOENQOVZEeFJwa0VNZGZkWUt1MjMveE9tMWorN2pGQXM4dHJQcEd2ZWxYMDdMdzJDbmpkVjJkNHUKbDNjZFMvdzc5QjUycmFaWHRINnpRMVVRNyt5WmtQREtDVVFFK09zY3FUU1FVZnZRa2JDcWU4c0NMMDYxWmEzeApsRU4vRVNJeHY0c1RZVVB5aGNrMlIzeXZZTG44L2oxVHhhUW5DclpOcndtWFVkMThoUUlEQVFBQm8xTXdVVEFkCkJnTlZIUTRFRmdRVTN4NUtNM3QvN1ZKZ0pjUkxQRWFrRmlkRVQ4WXdId1lEVlIwakJCZ3dGb0FVM3g1S00zdC8KN1ZKZ0pjUkxQRWFrRmlkRVQ4WXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQwpBUUVBVVVVWFAvU3lyb2QxVGJ4N1VYeS9TQk9OUVZ2aExBNTNHYzY2QjgvSGNITlN4ZGpwNWU0bUFyWFhaQTVpCnNsUlhicWtLd3FKRzdCR3RROTZoU0ZXVnM3WDlyUFB2aTNVT0NHVUpYM2w1aG9OSkpsQllqZUhLQ1dYVGl5d1gKZmgzL2FISnVheWxTK1NFUk5zOWwwWXlXMkFnK2xrZk51bGF5bXBJTGwwemQrbEpiNzI0RHpIOWI1Vzl5WWVTRQoyRDZnSHNWejBzTzNLMEViS2FZZUVtVGdKbVV2YWdnRXk5RHFCMUNCQ1czU3RIajdtNWJzNXdnSGU1TmhKcWRRCmE2OXRSdDM4ZG5xY21kRWNqdDFibXNqYUptbFFldlVpYm52bzJtNFc1blBtRHNNWVMyKzRMTXJkQk51UTBXSFEKQWdsdDVPYU9RaEJ3ZG92RHF0OVl6UWhrNmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t"
            },
            "data_wo": null,
            "data_wo_revision": null,
            "id": "monitoring/prometheus-ca-cert",
            "immutable": false,
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "prometheus-ca-cert",
                "namespace": "monitoring",
                "resource_version": "570521",
                "uid": "7a63a207-6756-4c40-83eb-423f369506cc"
              }
            ],
            "timeouts": null,
            "type": "Opaque",
            "wait_for_service_account_token": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMH19",
          "dependencies": [
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_secret",
      "name": "prometheus_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "binary_data_wo": null,
            "binary_data_wo_revision": null,
            "data": {
              "token": "ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNklqSlVWMk0xVDA5c2RITnFTVFprYWs1WFJubEtNMUJWY21OMlNHbHpjblJxZVROblUzZDVSblF3YzBFaWZRLmV5SmhkV1FpT2xzaWFIUjBjSE02THk5cmRXSmxjbTVsZEdWekxtUmxabUYxYkhRdWMzWmpJbDBzSW1WNGNDSTZNakEyTWpRME1EUTNPQ3dpYVdGMElqb3hOelEzTURnd05EYzRMQ0pwYzNNaU9pSm9kSFJ3Y3pvdkwydDFZbVZ5Ym1WMFpYTXVaR1ZtWVhWc2RDNXpkbU1pTENKcWRHa2lPaUptWWpreVlUWmtZaTFtTm1RMUxUUXlZV1V0T0RkbE55MHpNamN4TVdSallUQTVaakFpTENKcmRXSmxjbTVsZEdWekxtbHZJanA3SW01aGJXVnpjR0ZqWlNJNkltMXZibWwwYjNKcGJtY2lMQ0p6WlhKMmFXTmxZV05qYjNWdWRDSTZleUp1WVcxbElqb2ljSEp2YldWMGFHVjFjeUlzSW5WcFpDSTZJalkxTWpFd01tSTBMVGs1TjJJdE5ESTRaaTFpT0RBM0xXRXpaV1EzT0dFMVlXWmlaaUo5ZlN3aWJtSm1Jam94TnpRM01EZ3dORGM0TENKemRXSWlPaUp6ZVhOMFpXMDZjMlZ5ZG1salpXRmpZMjkxYm5RNmJXOXVhWFJ2Y21sdVp6cHdjbTl0WlhSb1pYVnpJbjAuRGY2Y0RHQjYyZEl5SlJYQ3lLUnFYamFTSHR2UG9oOUpmOTA1dEpMdHVIaFlQN3ZRNExTbUZQb3dMSy15Vk5DVUk1b3Q3VGJaUjg4aXFUaVZybktzVVhpYlIxU2ZzT1QzWF9KcjJUQmtTV3hFX2pUV2otX3BmUGdPeVZwMGZwUjVlc3JkWnJMV0RDOS1YT1NNMkxvV0JReWdZTGN5cWJELUNReEZ0WVAyREFjeGw0ZXI5VVFQdlc5ZnU2OUd6bm9zeWYzcGRCcVkyYVdPNk81aFgxRUtfakkxLWhBakVKYjNNaS12MFZpX3MwNV9hUm9lTDBDNjlsZTJRTFF0RWdfa3FBZ28xQ2xjTGhMemFXTWZjOGR3VTU3MFR3TUlkUDMxcEtEY1A5NkVLelNPcS1CNmJBRFQyaDVMOW9aRUVCZGYzWTV0LWI5RXp3M0RMTS0ta19ZMWNn"
            },
            "data_wo": null,
            "data_wo_revision": null,
            "id": "monitoring/prometheus-token",
            "immutable": false,
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "prometheus-token",
                "namespace": "monitoring",
                "resource_version": "570504",
                "uid": "ef3c87f4-69f0-402f-8fe5-6e8701dd69f2"
              }
            ],
            "timeouts": null,
            "type": "Opaque",
            "wait_for_service_account_token": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMH19",
          "dependencies": [
            "kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "knf_ctrl",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "site1",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/knf-ctrl-site1-svc",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "knf-ctrl-site1-svc",
                "namespace": "rdsv",
                "resource_version": "570513",
                "uid": "43262b39-ae8a-4f6b-859e-bfdc82510758"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.152.183.167",
                "cluster_ips": [
                  "10.152.183.167"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [
                  {
                    "app_protocol": "",
                    "name": "rest",
                    "node_port": 31880,
                    "port": 8080,
                    "protocol": "TCP",
                    "target_port": "8080"
                  },
                  {
                    "app_protocol": "",
                    "name": "openflow",
                    "node_port": 30363,
                    "port": 6633,
                    "protocol": "TCP",
                    "target_port": "6633"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s-app": "knf-ctrl-site1"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "NodePort"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "site2",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/knf-ctrl-site2-svc",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "knf-ctrl-site2-svc",
                "namespace": "rdsv",
                "resource_version": "570515",
                "uid": "d0f4cacc-0342-417e-b639-7c1c25ff5dd2"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.152.183.163",
                "cluster_ips": [
                  "10.152.183.163"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [
                  {
                    "app_protocol": "",
                    "name": "rest",
                    "node_port": 31881,
                    "port": 8080,
                    "protocol": "TCP",
                    "target_port": "8080"
                  },
                  {
                    "app_protocol": "",
                    "name": "openflow",
                    "node_port": 31906,
                    "port": 6633,
                    "protocol": "TCP",
                    "target_port": "6633"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s-app": "knf-ctrl-site2"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "NodePort"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "vnf_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "site1",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-access-site1-service",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "vnf-access-site1-service",
                "namespace": "rdsv",
                "resource_version": "570473",
                "uid": "97cabbe3-67f6-4157-b657-e956745f8274"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "None",
                "cluster_ips": [
                  "None"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s-app": "vnf-access-site1"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "site2",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-access-site2-service",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "vnf-access-site2-service",
                "namespace": "rdsv",
                "resource_version": "570472",
                "uid": "c1688436-b3a7-448f-8486-da88b75518a8"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "None",
                "cluster_ips": [
                  "None"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s-app": "vnf-access-site2"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "vnf_cpe",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "site1",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-cpe-service-site1",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "vnf-cpe-service-site1",
                "namespace": "rdsv",
                "resource_version": "570748",
                "uid": "1696ad86-76c5-40d6-b64b-3723f2ebde74"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "None",
                "cluster_ips": [
                  "None"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s-app": "vnf-cpe-site1"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "site2",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-cpe-service-site2",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "vnf-cpe-service-site2",
                "namespace": "rdsv",
                "resource_version": "570749",
                "uid": "4b08615b-db34-4850-a5fe-3aab35bde1dc"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "None",
                "cluster_ips": [
                  "None"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s-app": "vnf-cpe-site2"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "vnf_wan_pod",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": "site1",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-wan-site1-pod",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "vnf-wan-site1-pod",
                "namespace": "rdsv",
                "resource_version": "570526",
                "uid": "1462328a-ca59-4fc3-92ea-c0ead014c5fe"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "None",
                "cluster_ips": [
                  "None"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s-app": "vnf-wan-site1"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        },
        {
          "index_key": "site2",
          "schema_version": 1,
          "attributes": {
            "id": "rdsv/vnf-wan-site2-pod",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "vnf-wan-site2-pod",
                "namespace": "rdsv",
                "resource_version": "570491",
                "uid": "95f40df9-5a84-40d2-a3af-10e2011ff645"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "None",
                "cluster_ips": [
                  "None"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [],
                "publish_not_ready_addresses": false,
                "selector": {
                  "k8s-app": "vnf-wan-site2"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_storage_class",
      "name": "hostpath_immediate",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_volume_expansion": true,
            "allowed_topologies": [],
            "id": "hostpath-immediate",
            "metadata": [
              {
                "annotations": {
                  "storageclass.kubernetes.io/is-default-class": "false"
                },
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "hostpath-immediate",
                "resource_version": "570489",
                "uid": "4f0b9d68-d711-4b21-8dbe-dd16dad76165"
              }
            ],
            "mount_options": null,
            "parameters": null,
            "reclaim_policy": "Delete",
            "storage_provisioner": "microk8s.io/hostpath",
            "volume_binding_mode": "Immediate"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ],
  "check_results": null
}
